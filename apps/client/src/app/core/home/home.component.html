@if (matrixData === undefined) {
  <h2>Matriz de Seguimiento</h2>
} @else {
  <h2>
    Matriz de Seguimiento - {{ matrixData.name }}
    (Inicia:
    {{ parseDate(matrixData.startDate) }}
    - Termina:
    {{ parseDate(matrixData.departmentEndDate) }})
  </h2>
}
<p-dropdown
  [options]="recopilations"
  [(ngModel)]="selectedRecopilation"
  (onChange)="getMatrixData()"
  optionLabel="name"
  optionValue="id"
  placeholder="Selecciona una recopilaciÃ³n"
/>
<button
  type="button"
  class="open-big"
  (click)="showDialog()"
  pButton
  icon="pi pi-external-link"
></button>
<div class="matrix">
  <app-matrix
    [selectedRecopilation]="selectedRecopilation"
    [matrixData]="matrixData"
    [matrixScrollHeight]="'75vh'"
  ></app-matrix>
</div>

@if (matrixData !== undefined) {
  <p-dialog
    header="
    {{ matrixData.name }}
    (Inicia:
    {{ parseDate(matrixData.startDate) }}
    - Termina:
    {{ parseDate(matrixData.departmentEndDate) }})
  "
    [resizable]="false"
    [modal]="true"
    [maximizable]="true"
    appendTo="body"
    [(visible)]="dialogVisible"
    [draggable]="false"
    [closeOnEscape]="true"
    [style]="{ width: '80vw' }"
    [contentStyle]="{
      height: '80vh'
    }"
    (onMaximize)="onMaximize()"
  >
    <app-matrix
      [selectedRecopilation]="selectedRecopilation"
      [matrixData]="matrixData"
      [matrixScrollHeight]="dialogMatrixScrollHeight"
    ></app-matrix>
    <ng-template pTemplate="footer">
      <button
        type="button"
        pButton
        pRipple
        icon="pi pi-times"
        (click)="dialogVisible = false"
        label="Cerrar"
        class="p-button-text"
      ></button>
    </ng-template>
  </p-dialog>
}
