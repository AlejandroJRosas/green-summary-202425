<main class="flex flex-column h-full justify-content-between">
  <section>
    <header>
      <h2 class="text-color-secondary">Colección de información</h2>
    </header>
    <form [formGroup]="formGroup">
      <div class="flex flex-column gap-2 w-full">
        <label class="flex flex-column gap-2 w-full">
          Descripción
          <textarea
            pInputTextarea
            rows="5"
            cols="40"
            formControlName="description"
            [autoResize]="true"
            (input)="errorsUpdate('description')"
            (blur)="errorsUpdate('description')"
          ></textarea>
        </label>
        <small class="p-error">{{ errors.description }}</small>
      </div>
      <div class="flex flex-row gap-4">
        <h3 class="text-color-secondary">Evidencias</h3>
        <button class="p-panel-header-icon p-link mr-2">
          <span
            (click)="addEvidence()"
            class="pi pi-plus"
            style="
              color: #3b82f6;
              border: solid 1.5px #babbbe;
              border-radius: 100%;
              padding: 6px;
            "
          ></span>
        </button>
      </div>
      @for (evidence of evidences; track evidence) {
        <evidence />
      }
    </form>
  </section>
  <footer class="flex justify-content-between py-3">
    <p-button
      label="Cancelar"
      size="small"
      icon="pi pi-times"
      [outlined]="true"
      severity="danger"
    />
    <p-button
      label="Guardar"
      (click)="onCreate()"
      size="small"
      icon="pi pi-check"
      [outlined]="true"
      severity="success"
    />
  </footer>
</main>
